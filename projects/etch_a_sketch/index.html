<!doctype html><html lang=en-us class="m-auto dark"><head><title>Project Portfolio</title>
<meta name=theme-color content><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta name=description content="JD Hagood's Personal Project Portfolio"><meta name=author content="JD Hagood"><meta name=generator content="aafu theme by Darshan in Hugo 0.134.1"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#252627><link rel="shortcut icon" href=/favicon.ico><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.15.2/css/all.css integrity=sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu crossorigin=anonymous><link rel=stylesheet href=https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css><link rel=stylesheet href="//fonts.googleapis.com/css?family=Didact+Gothic%7CRoboto:400%7CRoboto+Mono"><link href="/main.min.bdd0c35db7d5366d6885f58829abbfd07cf15583b90d2ea8f318a046f02860f2.css" rel=stylesheet><script>let html=document.querySelector("html"),theme=window.localStorage.getItem("theme");theme?theme==="dark"?html.classList.add("dark"):html.classList.remove("dark"):html.classList.contains("dark")?window.localStorage.setItem("theme","dark"):(html.classList.remove("dark"),window.localStorage.setItem("theme","light")),window.onload=()=>{let e=document.querySelector(".theme-toggle");window.localStorage.getItem("theme")==="dark"?(e.classList.remove("bi-moon-fill"),e.classList.add("bi-brightness-high")):(e.classList.add("bi-moon-fill"),e.classList.remove("bi-brightness-high"));let t=document.querySelector(".accordion.active");t&&(t.nextElementSibling.style.maxHeight=t.nextElementSibling.scrollHeight+"px")},window.onresize=()=>{let e=document.querySelector(".accordion.active");e&&(e.nextElementSibling.style.maxHeight=e.nextElementSibling.scrollHeight+"px")}</script></head><body class="h-screen p-2 m-auto max-w-4xl flex flex-col"><header class="nav flex flex-row row py-2 mb-6 w-full border-b border-gray-300 dark:border-gray-700 justify-between"><div><a class="no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=https://jdhagood.github.io/>Home</a>
<a class="no-underline p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800" href=/blog>Blog</a></div><div><a class=mr-4 href=/search><i class="fas fa-search"></i></i></a>
<i class="fas fa-sun theme-toggle text-blue-500 hover:text-blue-700 dark:text-yellow-300 dark:hover:text-yellow-500 cursor-pointer text-lg mr-9 sm:mr-0" onclick=lightDark(this)></i></div></header><script>const lightDark=e=>{let t=document.querySelector("html");t.classList.contains("dark")?(t.classList.remove("dark"),e.classList.add("fa-moon"),e.classList.remove("fa-sun"),window.localStorage.setItem("theme","light")):(t.classList.add("dark"),e.classList.add("fa-sun"),e.classList.remove("fa-moon"),window.localStorage.setItem("theme","dark"))}</script><main class=grow><div class="prose prose-stone dark:prose-invert max-w-none"><div class=mb-3><h1 class=top-h1 style=font-size:2.75em>Automated Etch-a-Sketch</h1><p class=mb-1>November 19, 2022</p><p>&mdash;</p></div><div class=content><p>This project was made for the De Florez competition. You can check out the poster <a href=/images/etch_a_sketch/deflorez_poster.pdf>here</a>.<figure><img src=/images/etch_a_sketch/dog_sunglasses.jpg alt="Image 1" style="width:50%;height:auto;display:block;margin:0 auto"><figcaption>Prompt: "A dog with sunglasses"</figcaption></figure></p><p>Project ideas often times come from the most mundane objects. One day an Etch-a-Sketch showed up in my dorm&rsquo;s lounge, and after playing with it for a couple of minutes and creating dissapointing images, I had the idea to make it automated. I started talking about the idea with some of my friends, and Elijah Bell said that he wante to help with the project. In order to give ourselves a deadline, we signed up for the De Florez competition, an annual mechanical engineering competition.</p><h2 id=the-human-interface>The Human Interface</h2><p>One of the first challenges was determining how humans would interface with the device. After bounching some ideas around we realized that we could use generative AI to make the images. We could then just have a human type in what they want to see, send that request in an API request to DALL-E, and get back an image.</p><h2 id=the-pathfinding-algorithem>The Pathfinding Algorithem</h2><figure><img src=/images/etch_a_sketch/example.jpg alt="Image 1" style="width:100%;height:auto;display:block;margin:0 auto"><figcaption>Trying to go from an image to connected image</figcaption></figure><p>The next big challenge was figuring out how to go from an image to a path that you can trace on an Etch-a-Sketch. If we allow backtracking, then the only requirement for an image is that it is connected. In order to try to rectify this every prompt we sent to DALL-E started with &ldquo;Generate a simple image of the following prompt drawn with a single continuous black line without picking up the pen in a line art style. Prompt:.&rdquo; For example, if the user typed in &ldquo;Two stick figures next to each other&rdquo; we would send the prompt:</p><p><em>Generate a simple image of the following prompt drawn with a single continuous black line without picking up the pen in a line art style. Prompt: Two stick figures next to each other</em><figure><img src=/images/etch_a_sketch/stick-figures-AI.png alt="Image 1" style="width:70%;height:auto;display:block;margin:0 auto"><figcaption>What we got back from DALL-E</figcaption></figure></p><p>This is almost what we want except the heads are disconnected. This inspired us to create this algoritm:</p><ol><li>Get image from Dall-E from instructions + user prompt</li><li>Convert to Black and White, downscale, find connected components, remove components smaller than 8 pixels.</li><li>Trace by:<ol><li>Go from the current point (starts at 0,0) to a point in the next component, minimizing white space traveled through by using Dijkstra&rsquo;s algorithm. Add points traveled through to a path array.</li><li>Depth First Search (DFS) through the component, backtracking with BFS if hitting an end point.</li><li>Repeat until all components are exhausted</li></ol></li></ol><p>Backtracking is important because without it, when the DFS reaches a dead end, we would get random lines drawn across the image</p><figure><img src=/images/etch_a_sketch/backtrack-explanation.png alt="Image 1" style="width:70%;height:auto;display:block;margin:0 auto"><figcaption>With and without backtracking</figcaption></figure><p>This was particularly difficult to implement, and the algorithem was not very optimized, but we eventually got it working.</p><figure><img src=/images/etch_a_sketch/algo_example.png alt="Image 1" style="width:100%;height:auto;display:block;margin:0 auto"><figcaption></figcaption></figure><h2 id=mechanical-design>Mechanical Design</h2><p>Elijah is a mechanical engineer with scarily good CADing skills. He decided to make the drawing robot as sleek as possible and be easily adaptable to any Etch-a-Sketch</p></div></div><div class="flex flex-row justify-around my-2"><h3 class="mb-1 mt-1 text-left mr-4"><a href=/projects/cardboard_computer/ title="Cardboard Computer"><i class="nav-menu fas fa-chevron-circle-left"></i></a></h3><h3 class="mb-1 mt-1 text-left ml-4"><a href=/projects/3d_printed_clothes/ title="3D Printed Clothes"><i class="nav-menu fas fa-chevron-circle-right"></i></a></h3></div></main><footer class="text-sm text-center border-t border-gray-300 dark:border-gray-700 py-6"><p class=markdownify>powered by <a href=https://gohugo.io/>hugo</a> & deployed on <a href=https://pages.github.com/>GitHub Pages</a></p><p><i><a href=https://github.com/darshanbaral/aafu>aafu
</a></i>by
<a href=https://www.darshanbaral.com/>darshan</a></p></footer></body><link rel=stylesheet href=css/custom.css></html>